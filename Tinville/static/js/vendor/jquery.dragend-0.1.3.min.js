(function(c,f){var g=c(f),h=c(document.body),j={pageContainer:"ul",pageElements:"li",direction:"horizontal",minTouchDistance:"0",onSwipeStart:c.noop,onSwipeEnd:c.noop,onDrag:c.noop,onDragEnd:c.noop,keyboardNavigation:!1,scribe:0,borderBetweenPages:0,duration:300,hammerSettings:{drag_min_distance:0,css_hacks:!1,prevent_default:!0}},k={37:"left",38:"up",39:"right",40:"down"},l={overflow:"hidden",padding:0,cursor:"grab"},e=function(a,b){this.settings=c.extend({},j,b);this.container=a;this.pageContainer=
a.find(this.settings.pageContainer);this.scrollBorder={x:0,y:0};this.page=0;this.preventScroll=!1;this.pageCssProperties={margin:0};this.container.css(l);this.updateInstance(b);this._observe()},m={_scroll:function(a){switch(this.settings.direction){case "horizontal":this.pageContainer.css("-webkit-transform","translate3d("+a.x+"px, 0, 0)");break;case "vertical":this.pageContainer.css("-webkit-transform","translate3d(0, "+a.y+"px, 0)")}},_animateScroll:function(){this.activeElement=this.pages.eq(this.page);
this.pageContainer.css("-webkit-transition","-webkit-transform "+this.settings.duration+"ms ease-out");this._scroll({x:-this.scrollBorder.x,y:-this.scrollBorder.y});f.setTimeout(c.proxy(this.afterScroll,this),this.settings.duration)},afterScroll:function(){this._onSwipeEnd();this.pageContainer.css("-webkit-transition","-webkit-transform 0")}},n={_scroll:function(a){switch(this.settings.direction){case "horizontal":this.pageContainer.css({"margin-left":a.x});break;case "vertical":this.pageContainer.css({"margin-top":a.y})}},
_animateScroll:function(){var a;this.activeElement=this.pages.eq(this.page);switch(this.settings.direction){case "horizontal":a={"margin-left":-this.scrollBorder.x};break;case "vertical":a={"margin-top":-this.scrollBorder.y}}this.pageContainer.animate(a,this.settings.duration,"linear",c.proxy(this._onSwipeEnd,this))}};"WebKitCSSMatrix"in f&&"m11"in new WebKitCSSMatrix?c.extend(e.prototype,m):c.extend(e.prototype,n);c.extend(e.prototype,{_checkOverscroll:function(a,b,c){var d={x:b,y:c,overscroll:!0};
switch(a){case "right":if(!this.scrollBorder.x)return Math.round(d.x=(b-this.scrollBorder.x)/5),d;break;case "left":if((this.pages.length-1)*this.pageDimentions.width<=this.scrollBorder.x)return d.x=Math.round(-((this.pages.length-1)*(this.pageDimentions.width+this.settings.borderBetweenPages))+b/5),d;break;case "down":if(!this.scrollBorder.y)return d.y=Math.round((c-this.scrollBorder.y)/5),d;break;case "up":if((this.pages.length-1)*this.pageDimentions.height<=this.scrollBorder.y)return d.y=Math.round(-((this.pages.length-
1)*(this.pageDimentions.height+this.settings.borderBetweenPages))+c/5),d}return{x:b-this.scrollBorder.x,y:c-this.scrollBorder.y,overscroll:!1}},_observe:function(){this.container.hammer().on("drag",this.settings.hammerSettings,c.proxy(this._onDrag,this)).on("dragend",this.settings.hammerSettings,c.proxy(this._onDragend,this));g.on("resize",c.proxy(this._sizePages,this));if(this.settings.keyboardNavigation)h.on("keydown",c.proxy(this._onKeydown,this))},_onDrag:function(a){var b;a.stopPropagation();
if(a.gesture)a=a.gesture,b=this._checkOverscroll(a.direction,a.deltaX,a.deltaY),this.settings.onDrag(this.activeElement,a,b.overscroll);else throw Error("Dragend JS detected some problems with the event handling. Maybe the user-drag CSS attribute can help");this.preventScroll||this._scroll(b)},_onDragend:function(a){var b;a.stopPropagation();a.preventDefault();if(a.gesture)b=a.gesture;else throw Error("Dragend JS detected some problems with the event handling. Maybe the user-drag CSS attribute can help");
a.gesture.distance>this.settings.minTouchDistance&&!(("left"===b.direction||"right"===b.direction)&&"vertical"===this.settings.direction)&&!(("up"===b.direction||"down"===b.direction)&&"horizontal"===this.settings.direction)?this.swipe(b.direction):this._scrollToPage();this.settings.onDragEnd(this.activeElement)},_onKeydown:function(a){(a=k[a.keyCode])&&this._scrollToPage(a)},setHorizontalContainerCssValues:function(){c.extend(this.pageCssProperties,{"float":"left","overflow-y":"auto","overflow-x":"hidden",
padding:0,display:"block"});this.pageContainer.css({overflow:"hidden",width:this.pageDimentions.width*this.pages.length+this.settings.borderBetweenPages*this.pages.length,"box-sizing":"content-box","-webkit-backface-visibility":"hidden","-webkit-perspective":1E3,margin:0,padding:0})},setVerticalContainerCssValues:function(){c.extend(this.pageCssProperties,{overflow:"hidden",padding:0,display:"block"});this.pageContainer.css({"padding-bottom":this.settings.scribe,"box-sizing":"content-box","-webkit-backface-visibility":"hidden",
"-webkit-perspective":1E3,margin:0})},setContainerCssValues:function(){switch(this.settings.direction){case "horizontal":this.setHorizontalContainerCssValues();break;case "vertical":this.setVerticalContainerCssValues()}},_setPageDimentions:function(){var a=this.container.width(),b=this.container.height();"horizontal"===this.settings.direction?a-=parseInt(this.settings.scribe,10):b-=parseInt(this.settings.scribe,10);this.pageDimentions={width:a,height:b}},_sizePages:function(){this._setPageDimentions();
this.setContainerCssValues();c.extend(this.pageCssProperties,{height:this.pageDimentions.height,width:this.pageDimentions.width});this.pages.css(this.pageCssProperties);this.settings.scrollToPage?(this._scrollToPage("page",this.page),delete this.settings.scrollToPage):this._jumpToPage("page",this.page)},_calcNewPage:function(a,b){switch(a){case "up":this.page<this.pages.length-1&&(this.scrollBorder.y=this.scrollBorder.y+this.pageDimentions.height+this.settings.borderBetweenPages,this.page++);break;
case "down":0<this.page&&(this.scrollBorder.y=this.scrollBorder.y-this.pageDimentions.height-this.settings.borderBetweenPages,this.page--);break;case "left":this.page<this.pages.length-1&&(this.scrollBorder.x=this.scrollBorder.x+this.pageDimentions.width+this.settings.borderBetweenPages,this.page++);break;case "right":0<this.page&&(this.scrollBorder.x=this.scrollBorder.x-this.pageDimentions.width-this.settings.borderBetweenPages,this.page--);break;case "page":switch(this.settings.direction){case "horizontal":this.scrollBorder.x=
(this.pageDimentions.width+this.settings.borderBetweenPages)*b;break;case "vertical":this.scrollBorder.y=(this.pageDimentions.height+this.settings.borderBetweenPages)*b}this.page=b;break;default:this.scrollBorder.y=0,this.page=this.scrollBorder.x=0}},_onSwipeEnd:function(){this.preventScroll=!1;this.activeElement.trigger("active");this.settings.onSwipeEnd(this.container,this.activeElement,this.page)},_jumpToPage:function(a,b){a&&this._calcNewPage(a,b);this._scroll({x:-this.scrollBorder.x,y:-this.scrollBorder.y})},
_scrollToPage:function(a,b){this.preventScroll=!0;a&&this._calcNewPage(a,b);this._animateScroll()},swipe:function(a){this.activeElement=this.pages.eq(this.page);this.settings.onSwipeStart(this.container,this.activeElement,this.page);this._scrollToPage(a)},updateInstance:function(a){"object"===typeof a&&c.extend(this.settings,a);this.page=this.settings.jumpToPage||this.settings.scrollToPage||this.page;this.pages=this.container.find(this.settings.pageElements);this.activeElement=this.pages.eq(this.page);
this._sizePages()}});c.fn.dragend=function(a){var b=this.data("dragend");b?b.updateInstance(a):(b=new e(this,a),this.data("dragend",b));"string"===typeof a&&b.swipe(a);return this}})(jQuery,window);
(function(c,f){var g=c(f),h=c(document.body),j={pageContainer:"ul",pageElements:"li",direction:"horizontal",minTouchDistance:"0",onSwipeStart:c.noop,onSwipeEnd:c.noop,onDrag:c.noop,onDragEnd:c.noop,keyboardNavigation:!1,scribe:0,borderBetweenPages:0,duration:300,hammerSettings:{drag_min_distance:0,css_hacks:!1,prevent_default:!0}},k={37:"left",38:"up",39:"right",40:"down"},l={overflow:"hidden",padding:0,cursor:"grab"},e=function(a,b){this.settings=c.extend({},j,b);this.container=a;this.pageContainer=
a.find(this.settings.pageContainer);this.scrollBorder={x:0,y:0};this.page=0;this.preventScroll=!1;this.pageCssProperties={margin:0};this.container.css(l);this.updateInstance(b);this._observe()},m={_scroll:function(a){switch(this.settings.direction){case "horizontal":this.pageContainer.css("-webkit-transform","translate3d("+a.x+"px, 0, 0)");break;case "vertical":this.pageContainer.css("-webkit-transform","translate3d(0, "+a.y+"px, 0)")}},_animateScroll:function(){this.activeElement=this.pages.eq(this.page);
this.pageContainer.css("-webkit-transition","-webkit-transform "+this.settings.duration+"ms ease-out");this._scroll({x:-this.scrollBorder.x,y:-this.scrollBorder.y});f.setTimeout(c.proxy(this.afterScroll,this),this.settings.duration)},afterScroll:function(){this._onSwipeEnd();this.pageContainer.css("-webkit-transition","-webkit-transform 0")}},n={_scroll:function(a){switch(this.settings.direction){case "horizontal":this.pageContainer.css({"margin-left":a.x});break;case "vertical":this.pageContainer.css({"margin-top":a.y})}},
_animateScroll:function(){var a;this.activeElement=this.pages.eq(this.page);switch(this.settings.direction){case "horizontal":a={"margin-left":-this.scrollBorder.x};break;case "vertical":a={"margin-top":-this.scrollBorder.y}}this.pageContainer.animate(a,this.settings.duration,"linear",c.proxy(this._onSwipeEnd,this))}};"WebKitCSSMatrix"in f&&"m11"in new WebKitCSSMatrix?c.extend(e.prototype,m):c.extend(e.prototype,n);c.extend(e.prototype,{_checkOverscroll:function(a,b,c){var d={x:b,y:c,overscroll:!0};
switch(a){case "right":if(!this.scrollBorder.x)return Math.round(d.x=(b-this.scrollBorder.x)/5),d;break;case "left":if((this.pages.length-1)*this.pageDimentions.width<=this.scrollBorder.x)return d.x=Math.round(-((this.pages.length-1)*(this.pageDimentions.width+this.settings.borderBetweenPages))+b/5),d;break;case "down":if(!this.scrollBorder.y)return d.y=Math.round((c-this.scrollBorder.y)/5),d;break;case "up":if((this.pages.length-1)*this.pageDimentions.height<=this.scrollBorder.y)return d.y=Math.round(-((this.pages.length-
1)*(this.pageDimentions.height+this.settings.borderBetweenPages))+c/5),d}return{x:b-this.scrollBorder.x,y:c-this.scrollBorder.y,overscroll:!1}},_observe:function(){this.container.hammer().on("drag",this.settings.hammerSettings,c.proxy(this._onDrag,this)).on("dragend",this.settings.hammerSettings,c.proxy(this._onDragend,this));g.on("resize",c.proxy(this._sizePages,this));if(this.settings.keyboardNavigation)h.on("keydown",c.proxy(this._onKeydown,this))},_onDrag:function(a){var b;a.stopPropagation();
if(a.gesture)a=a.gesture,b=this._checkOverscroll(a.direction,a.deltaX,a.deltaY),this.settings.onDrag(this.activeElement,a,b.overscroll);else throw Error("Dragend JS detected some problems with the event handling. Maybe the user-drag CSS attribute can help");this.preventScroll||this._scroll(b)},_onDragend:function(a){var b;a.stopPropagation();a.preventDefault();if(a.gesture)b=a.gesture;else throw Error("Dragend JS detected some problems with the event handling. Maybe the user-drag CSS attribute can help");
a.gesture.distance>this.settings.minTouchDistance&&!(("left"===b.direction||"right"===b.direction)&&"vertical"===this.settings.direction)&&!(("up"===b.direction||"down"===b.direction)&&"horizontal"===this.settings.direction)?this.swipe(b.direction):this._scrollToPage();this.settings.onDragEnd(this.activeElement)},_onKeydown:function(a){(a=k[a.keyCode])&&this._scrollToPage(a)},setHorizontalContainerCssValues:function(){c.extend(this.pageCssProperties,{"float":"left","overflow-y":"auto","overflow-x":"hidden",
padding:0,display:"block"});this.pageContainer.css({overflow:"hidden",width:this.pageDimentions.width*this.pages.length+this.settings.borderBetweenPages*this.pages.length,"box-sizing":"content-box","-webkit-backface-visibility":"hidden","-webkit-perspective":1E3,margin:0,padding:0})},setVerticalContainerCssValues:function(){c.extend(this.pageCssProperties,{overflow:"hidden",padding:0,display:"block"});this.pageContainer.css({"padding-bottom":this.settings.scribe,"box-sizing":"content-box","-webkit-backface-visibility":"hidden",
"-webkit-perspective":1E3,margin:0})},setContainerCssValues:function(){switch(this.settings.direction){case "horizontal":this.setHorizontalContainerCssValues();break;case "vertical":this.setVerticalContainerCssValues()}},_setPageDimentions:function(){var a=this.container.width(),b=this.container.height();"horizontal"===this.settings.direction?a-=parseInt(this.settings.scribe,10):b-=parseInt(this.settings.scribe,10);this.pageDimentions={width:a,height:b}},_sizePages:function(){this._setPageDimentions();
this.setContainerCssValues();c.extend(this.pageCssProperties,{height:this.pageDimentions.height,width:this.pageDimentions.width});this.pages.css(this.pageCssProperties);this.settings.scrollToPage?(this._scrollToPage("page",this.page),delete this.settings.scrollToPage):this._jumpToPage("page",this.page)},_calcNewPage:function(a,b){switch(a){case "up":this.page<this.pages.length-1&&(this.scrollBorder.y=this.scrollBorder.y+this.pageDimentions.height+this.settings.borderBetweenPages,this.page++);break;
case "down":0<this.page&&(this.scrollBorder.y=this.scrollBorder.y-this.pageDimentions.height-this.settings.borderBetweenPages,this.page--);break;case "left":this.page<this.pages.length-1&&(this.scrollBorder.x=this.scrollBorder.x+this.pageDimentions.width+this.settings.borderBetweenPages,this.page++);break;case "right":0<this.page&&(this.scrollBorder.x=this.scrollBorder.x-this.pageDimentions.width-this.settings.borderBetweenPages,this.page--);break;case "page":switch(this.settings.direction){case "horizontal":this.scrollBorder.x=
(this.pageDimentions.width+this.settings.borderBetweenPages)*b;break;case "vertical":this.scrollBorder.y=(this.pageDimentions.height+this.settings.borderBetweenPages)*b}this.page=b;break;default:this.scrollBorder.y=0,this.page=this.scrollBorder.x=0}},_onSwipeEnd:function(){this.preventScroll=!1;this.activeElement.trigger("active");this.settings.onSwipeEnd(this.container,this.activeElement,this.page)},_jumpToPage:function(a,b){a&&this._calcNewPage(a,b);this._scroll({x:-this.scrollBorder.x,y:-this.scrollBorder.y})},
_scrollToPage:function(a,b){this.preventScroll=!0;a&&this._calcNewPage(a,b);this._animateScroll()},swipe:function(a){this.activeElement=this.pages.eq(this.page);this.settings.onSwipeStart(this.container,this.activeElement,this.page);this._scrollToPage(a)},updateInstance:function(a){"object"===typeof a&&c.extend(this.settings,a);this.page=this.settings.jumpToPage||this.settings.scrollToPage||this.page;this.pages=this.container.find(this.settings.pageElements);this.activeElement=this.pages.eq(this.page);
this._sizePages()}});c.fn.dragend=function(a){var b=this.data("dragend");b?b.updateInstance(a):(b=new e(this,a),this.data("dragend",b));"string"===typeof a&&b.swipe(a);return this}})(jQuery,window);
